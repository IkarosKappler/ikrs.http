package ikrs.http;



public class HTTPRequestHandler 
    implements Runnable {


    

    public void run() {

	try {
	    /* Init HTTP connection ... */
	    //HTTPHeaderLine.read( sock.getInputStream() );
	    HTTPHeaders headers = HTTPHeaders.read( sock.getInputStream() );

	    
	    // Send fake reply
	    java.io.PrintWriter out = new java.io.PrintWriter( new java.io.OutputStreamWriter(sock.getOutputStream()) );
	    String fakeReply = "Sorry, this server is still under construction and the request handler is not yet implemented.";

	    out.println( "HTTP/1.1 501 Not Implemented" );
	    out.println( "Server: Apache/1.3.29 (Unix) PHP/4.3.4" );
	    out.println( "Content-Length: " + fakeReply.length() );
	    out.println( "Content-Language: de" );
	    out.println( "Connection: close" );
	    out.println( "Content-Type: text/plain" );
	    out.println( "" );
	    out.println( fakeReply );
	    out.flush();
	    
	    sock.close();

	} catch( EOFException e ) {
	    e.printStackTrace();  
	} catch( IOException e ) {
	    e.printStackTrace();
	}

    }